# login_bonus及gacha的个人魔改

适用于HoshinoBot的签到插件和抽卡插件魔改  

## 一、改动说明

### util模块

1、魔改了util，由递增式计数改为了递减式计数  
2、相比于原版在util中添加了使用json记录DailyNumberLimiter数据的功能，重启bot不丢失次数限制的数据（不影响原有功能使用，放心食用）  

### 签到模块

1、相比于原版增加了shelve数据库，重启bot不会丢失签到数据  
2、相比于原版调整了刷新时间为每日0点  

### 抽卡模块

1、相比于原版将天井券的每日限制统一为了钻石数量的限制，每日默认钻石限制改为93300钻石  

## 二、使用说明

### 指令介绍

#### 签到模块指令

1、在群聊中使用【签到】指令进行签到，无需at机器人  
2、每日首签的人可使用【昵称设定 昵称】指令设定自己的昵称（2-20字符）  
3、群聊中使用【签到查询】指令查看自己的签到情况  
4、超级管理员（SUPERUSER）使用【签到统计】指令查看签到汇总信息  
5、超级管理员（SUPERUSER）使用【金币充值 金币数量@xxx】指令可赠予指定成员金币，可@多人  
6、群聊中使用【帮助签到】指令查看签到模块使用说明  

#### 抽卡模块指令

1、原来的抽卡触发指令不变  
2、在群聊中使用【氪金 金币数量】指令可为自己充值钻石，不填写金币数量默认为4500金币  
3、群管理员使用【氪金 金币数量@xxx】可赠予为指定成员钻石，可@多人（不花费金币）  
4、在群聊中使用【偷钻@xxx】可偷取指定成员的钻石，可@多人  
5、群聊中使用【帮助抽卡】指令查看抽卡模块使用说明  

### 功能介绍

#### 签到模块

1、每日0点刷新签到信息，可开始签到  
2、具有累计签到统计和连续签到统计功能  
3、签到次序和连续签到次数会带来额外的金币收益  
4、初次签到会获得4500金币的赠礼  
5、每日首签会额外获得2000-4500之间的随机金币赠礼  
6、每日首签的成员可为自己设置昵称，他人签到时及被偷钻时将会显示该昵称  

#### 抽卡模块

1、每日凌晨5点重置所有成员的钻石数量为93300  
2、可使用签到获得的金币对自己当天的钻石数量进行充值（金币-钻石 1:10）  
3、每人每日首次使用钻石充值功能可白嫖（白嫖上限4500金币）  
4、使用【氪金】指令时不输入金币数量默认为4500金币  
5、群管理员可以不花费金币为群成员充值指定金币数量等价的钻石（不限次数）  
6、可以偷取他人的钻石（每日限使用3人次，概率+随机数量）  

## 三、部署说明

1、将项目中的文件下载到本地  
2、注意备份好原来的文件  
3、将文件放入Hoshinobot的对应文件夹中，重复的文件进行替换  
如项目中的“hoshino\util\ __ init__ .py”替换到“你的Hoshino目录\hoshino\util\ __ init__ .py”中  
4、重新启动Hoshinobot  

